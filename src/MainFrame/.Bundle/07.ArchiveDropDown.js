App.Modules.MainFrame.ArchiveDropDown = class extends Colibri.UI.DropDown {

    constructor(name, container) {
        super(name, container);
        this.AddClass('app-archivedropdown-component');
        this.search = false;
    }

    __renderItemContent(itemData) {

        if(itemData.route == 'message') {
            return '<div class="dropdown-message"><svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.7" fill-rule="evenodd" clip-rule="evenodd" d="M8.46307 9L9 8.46307L5.03693 4.5L9 0.536932L8.46307 0L4.5 3.96307L0.536932 0L0 0.536932L3.96307 4.5L0 8.46307L0.536932 9L4.5 5.03693L8.46307 9Z" fill="white" fill-opacity="0.945312"></path></svg><span class="message-title"><svg width="23" height="24" viewBox="0 0 23 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.32308 10.4257L5.16244 11.603C4.8423 12.4113 4.58693 13.2437 4.39875 14.0924L4.29105 14.5819L8.36161 18.6549L8.85116 18.5497C9.69986 18.3615 10.5323 18.1061 11.3405 17.786L12.5178 20.6253C12.5294 20.6535 12.5477 20.6783 12.5712 20.6976C12.5948 20.7169 12.6227 20.73 12.6525 20.7359C12.6824 20.7417 12.7132 20.74 12.7423 20.731C12.7713 20.7219 12.7976 20.7058 12.8189 20.6841L14.5984 18.9046C14.8888 18.6142 15.1151 18.2662 15.2627 17.8829C15.4102 17.4997 15.4758 17.0898 15.4551 16.6796L15.3915 15.5365C18.6861 13.1035 22.0199 8.8371 22.928 1.39112C22.9538 1.20444 22.9361 1.01433 22.8763 0.835605C22.8165 0.656884 22.7162 0.494384 22.5833 0.360772C22.4504 0.227159 22.2885 0.126043 22.1101 0.0653053C21.9317 0.00456765 21.7417 -0.0141508 21.5548 0.010609C14.1113 0.926057 9.84248 4.2623 7.40945 7.54715L6.26881 7.4884C5.85955 7.46613 5.45016 7.52976 5.06696 7.6752C4.68377 7.82064 4.33525 8.04466 4.04383 8.33287L2.26433 10.1124C2.23968 10.1333 2.221 10.1604 2.2102 10.1909C2.19939 10.2214 2.19684 10.2543 2.2028 10.2861C2.20877 10.3179 2.22303 10.3475 2.24415 10.372C2.26528 10.3966 2.2925 10.4151 2.32308 10.4257ZM13.7393 6.08831C14.0477 5.78098 14.4402 5.57193 14.8673 5.48755C15.2944 5.40317 15.737 5.44724 16.1391 5.6142C16.5412 5.78116 16.8848 6.06352 17.1265 6.42563C17.3682 6.78774 17.4972 7.21335 17.4972 7.64873C17.4972 8.08411 17.3682 8.50972 17.1265 8.87183C16.8848 9.23394 16.5412 9.5163 16.1391 9.68326C15.737 9.85022 15.2944 9.89429 14.8673 9.80991C14.4402 9.72553 14.0477 9.51648 13.7393 9.20915C13.5339 9.00449 13.3709 8.7613 13.2597 8.49353C13.1486 8.22576 13.0913 7.93867 13.0913 7.64873C13.0913 7.35879 13.1486 7.0717 13.2597 6.80393C13.3709 6.53616 13.5339 6.29297 13.7393 6.08831ZM1.79192 18.9805C1.32074 18.8151 0.814764 18.7746 0.323288 18.863C0.279608 18.8724 0.234245 18.8706 0.191439 18.8578C0.148634 18.845 0.109782 18.8215 0.078516 18.7895C0.0397554 18.7509 0.0138005 18.7013 0.00416816 18.6475C-0.0054642 18.5936 0.00169165 18.5381 0.0246661 18.4885C0.546031 17.3674 1.92899 15.1131 4.43302 16.9342C4.4461 16.9459 4.45656 16.9602 4.46372 16.9762C4.47089 16.9923 4.47459 17.0096 4.47459 17.0272C4.47459 17.0447 4.47089 17.0621 4.46372 17.0781C4.45656 17.0941 4.4461 17.1085 4.43302 17.1202C4.09778 17.3842 3.82937 17.7234 3.64951 18.1103C3.46964 18.4973 3.38335 18.9211 3.39763 19.3476C3.39945 19.3977 3.42015 19.4452 3.45557 19.4806C3.49099 19.516 3.5385 19.5367 3.58855 19.5385C4.01321 19.5556 4.43596 19.4728 4.82281 19.2968C5.20966 19.1208 5.54983 18.8565 5.81598 18.5252C5.82769 18.5109 5.84244 18.4993 5.85916 18.4914C5.87588 18.4834 5.89416 18.4793 5.91266 18.4793C5.93117 18.4793 5.94945 18.4834 5.96617 18.4914C5.98289 18.4993 5.99764 18.5109 6.00935 18.5252C6.35693 18.9389 7.31399 20.29 6.25412 21.5946C5.79142 22.1508 5.12846 22.5025 4.40854 22.5737C3.38049 22.6839 1.48106 23.0192 0.705133 23.9053C0.673985 23.9422 0.633405 23.9699 0.587719 23.9856C0.542034 24.0012 0.492956 24.0042 0.445721 23.9942C0.398486 23.9841 0.354865 23.9614 0.319508 23.9285C0.284152 23.8956 0.258387 23.8538 0.244961 23.8074C-0.0291839 22.8723 -0.455088 20.782 1.79192 18.9805Z" fill="white"></path></svg><span>Новое в программе</span></span><div>С 2022 года не нужно переключать год. В календарях выбирайте любые даты с 2021 года. А для предыдущих лет пользуйтесь архивом.</div><button>Ясно, спасибо</button></div>';
        }
        else {
            return itemData.icon ? itemData.icon + '<span>' + itemData.title + '</span>' : itemData.title;
        }

    }

    __renderBoundedValues(values) {
        this._list.Clear();
        if(!values) {
            return ;
        }

        values = Object.values(values);
        if(App.Browser.Has('archive-message')) {
            delete values[0];
        }

        const renderer = new Colibri.UI.List.JsonRenderer(this._list, [{name: 'archive', label: '', children: values}]);
        renderer.Render();
    }

}